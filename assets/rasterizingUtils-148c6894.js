import{dn as x,dp as u}from"./index-0199b717.js";const C=e=>e==="vertical"||e==="horizontal"||e==="cross"||e==="esriSFSCross"||e==="esriSFSVertical"||e==="esriSFSHorizontal";function k(e,n,d){const F=x(Math.ceil(d)),a=C(n)?8*F:16*F,o=2*F;e.width=a,e.height=a;const t=e.getContext("2d");t.strokeStyle="#FFFFFF",t.lineWidth=F,t.beginPath(),n!=="vertical"&&n!=="cross"&&n!=="esriSFSCross"&&n!=="esriSFSVertical"||(t.moveTo(a/2,-o),t.lineTo(a/2,a+o)),n!=="horizontal"&&n!=="cross"&&n!=="esriSFSCross"&&n!=="esriSFSHorizontal"||(t.moveTo(-o,a/2),t.lineTo(a+o,a/2)),n!=="forward-diagonal"&&n!=="diagonal-cross"&&n!=="esriSFSDiagonalCross"&&n!=="esriSFSForwardDiagonal"||(t.moveTo(-o,-o),t.lineTo(a+o,a+o),t.moveTo(a-o,-o),t.lineTo(a+o,o),t.moveTo(-o,a-o),t.lineTo(o,a+o)),n!=="backward-diagonal"&&n!=="diagonal-cross"&&n!=="esriSFSBackwardDiagonal"&&n!=="esriSFSDiagonalCross"||(t.moveTo(a+o,-o),t.lineTo(-o,a+o),t.moveTo(o,-o),t.lineTo(-o,o),t.moveTo(a+o,a-o),t.lineTo(a-o,a+o)),t.stroke();const T=t.getImageData(0,0,e.width,e.height),s=new Uint8Array(T.data);let l;for(let i=0;i<s.length;i+=4)l=s[i+3]/255,s[i]=s[i]*l,s[i+1]=s[i+1]*l,s[i+2]=s[i+2]*l;return[s,e.width,e.height]}function y(e,n){const d=n==="Butt",F=n==="Square",a=!d&&!F;e.length%2==1&&(e=[...e,...e]);const o=15.5,t=2*o;let T=0;for(const h of e)T+=h;const s=Math.round(T*o),l=new Float32Array(s*t),i=.5*o;let g=0,S=0,r=.5,M=!0;for(const h of e){for(g=S,S+=h*o;r<=S;){let m=.5;for(;m<t;){const w=(m-.5)*s+r-.5,c=a?(m-o)*(m-o):Math.abs(m-o);l[w]=M?d?Math.max(Math.max(g+i-r,c),Math.max(r-S+i,c)):c:a?Math.min((r-g)*(r-g)+c,(r-S)*(r-S)+c):F?Math.min(Math.max(r-g,c),Math.max(S-r,c)):Math.min(Math.max(r-g+i,c),Math.max(S+i-r,c)),m++}r++}M=!M}const f=l.length,v=new Uint8Array(4*f);for(let h=0;h<f;++h){const m=(a?Math.sqrt(l[h]):l[h])/o;u(m,v,4*h)}return[v,s,t]}export{y as e,k as r};
