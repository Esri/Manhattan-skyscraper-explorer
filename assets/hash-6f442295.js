function p(u){const s=[];for(let n=0,e=u.length;n<e;n++){let t=u.charCodeAt(n);t<128?s.push(t):t<2048?s.push(192|t>>6,128|63&t):t<55296||t>=57344?s.push(224|t>>12,128|t>>6&63,128|63&t):(n++,t=65536+((1023&t)<<10|1023&u.charCodeAt(n)),s.push(240|t>>18,128|t>>12&63,128|t>>6&63,128|63&t))}return new Uint8Array(s)}class b{constructor(s){this._seed=s,this._totallen=0,this._bufs=[],this.init()}init(){return this._bufs=[],this._totallen=0,this}updateFloatArray(s){const n=[];for(const e of s)isNaN(e)?n.push("NaN"):e===1/0?n.push("Infinity"):e===-1/0?n.push("-Infinity"):e===0?n.push("0"):n.push(e.toString(16));this.update(p(n.join("")))}updateIntArray(s){const n=Int32Array.from(s);this.update(new Uint8Array(n.buffer))}updateUint8Array(s){this.update(Uint8Array.from(s))}updateWithString(s){return this.update(p(s))}update(s){return this._bufs.push(s),this._totallen+=s.length,this}digest(){const s=new Uint8Array(this._totallen);let n=0;for(const e of this._bufs)s.set(e,n),n+=e.length;return this.init(),this._xxHash32(s,this._seed)}_xxHash32(s,n=0){const e=s;let t=n+374761393&4294967295,h=0;if(e.length>=16){const r=[n+2654435761+2246822519&4294967295,n+2246822519&4294967295,n+0&4294967295,n-2654435761&4294967295],i=s,f=i.length-16;let a=0;for(h=0;(4294967280&h)<=f;h+=4){const l=h,d=i[l]+(i[l+1]<<8),_=i[l+2]+(i[l+3]<<8),g=d*2246822519+(_*2246822519<<16);let o=r[a]+g&4294967295;o=o<<13|o>>>19;const y=65535&o,A=o>>>16;r[a]=y*2654435761+(A*2654435761<<16)&4294967295,a=a+1&3}t=(r[0]<<1|r[0]>>>31)+(r[1]<<7|r[1]>>>25)+(r[2]<<12|r[2]>>>20)+(r[3]<<18|r[3]>>>14)&4294967295}t=t+s.length&4294967295;const c=s.length-4;for(;h<=c;h+=4){const r=h,i=e[r]+(e[r+1]<<8),f=e[r+2]+(e[r+3]<<8);t=t+(i*3266489917+(f*3266489917<<16))&4294967295,t=t<<17|t>>>15,t=(65535&t)*668265263+((t>>>16)*668265263<<16)&4294967295}for(;h<e.length;++h)t+=e[h]*374761393,t=t<<11|t>>>21,t=(65535&t)*2654435761+((t>>>16)*2654435761<<16)&4294967295;return t^=t>>>15,t=((65535&t)*2246822519&4294967295)+((t>>>16)*2246822519<<16),t^=t>>>13,t=((65535&t)*3266489917&4294967295)+((t>>>16)*3266489917<<16),t^=t>>>16,t<0?t+4294967296:t}}export{b as i};
